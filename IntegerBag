import java.util.Iterator;
public class IntBag implements Iterator
{
    //properties
    private int index;
    private int[] bag;
    private int valid;


    //constructors
    public IntBag() {
        bag = new int[ 100 ];
        valid = 0;
        index = 0;
    }

    public IntBag( int maxNumOfElements ) {
        bag = new int[ maxNumOfElements ];
        valid = 0;
        index = 0;
    }

    // methods
    public void add( int value ) {
        if( valid < bag.length ) {
            bag[valid] = value;
            valid++;
        }
        else
            System.out.println( "Capacity is full!" );
    }

    public void addTo( int index, int value ) {
        if( index >= 0 && index <= valid ) {
            if( valid >= bag.length ) {
                int[] newArray = new int[ bag.length * 10 ];//newArray is created if our array is exceeded
                for( int i: bag ) {
                    newArray[i] = bag[i];
                }
                bag = newArray;
            }

            if( valid != 0 ) {
                for( int i = valid - 1; index <= i; i-- ) {
                    bag[ i + 1 ] = bag[ i ];
                }
                bag[index] = value;
                valid++;
                System.out.println( "Done" );
            }
        }
    }


    public void remove( int index ) {
        if( index < valid ) {
            for( int i = 1; i < valid - index; i++) {
                bag[index + i - 1] = bag[index + i];
            }
            valid--;
            System.out.println( "Done" );
        }
        else
            System.out.println( "Please enter a valid index" );
    }

    public boolean contains( int value ) {
        for( int i = 0; i < valid; i++) {
            if( bag[i] == value ) {
                return true;
            }
        }
        return false;
    }

    public String toString() {
        String str;
        int length;

        str = "[";
        length = 0;

        for( int i = 0; i < valid; i++) {
            str = str + bag[i] + ",";
        }
        length = str.length();
        str = str.substring( 0, length - 1 ) + "]";
        return str;
    }

    public int size() {
        return valid;
    }

    public int get( int index ) {
        if( index < valid ) {
            return bag[index];
        }
        else {
            return -1;
        }
    }

    public String findAll( int value ) {
        boolean found;
        String str;

        str = "";
        found = false;

        for( int i = 0; i < valid; i++) {
            if( bag[i] == value ) {
                found = true;
            }
            if( found == true ) {
                str = str + i + ",";
            }
            found = false;
        }
        return ("The locations(indexes) of the value are: " + str);
    }

    public Iterator iterator() {
        IntBagIterator i;
        i = new IntBagIterator( this );
        return i;
    }

    public Object next() {
        Integer i;
        i = bag[index];
        index++;
        return i;
    }

    public boolean hasNext() {
        return index < valid;
    }

    public int nextInt() {
        index++;
        return bag[index];
    }
}   
